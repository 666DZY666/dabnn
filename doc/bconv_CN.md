#### 二值卷积实现
##### 定点化输入
在执行二值卷积之前，网络需要手动插入一层`Binarize`。顾名思义就是把 float 输入调整为二进制格式。详见
```
    dabnn/bitpack.h#pack_mat_64
```

注意此处转换时，使用的公式是：
```
    bin_val = 0 if float_val > 0.0f else 1
```
数值反过来，是为了后续方便实现。原本是`xnor`操作，调整输入后即为`xor`操作，某些步骤不需要再取反。


卷积实现有很多种办法，dabnn在项目早期提供了两种优化实现。
##### 展开
以汇编方式直接跑卷积。俗话说“有多少人工，就有多少智能”，这些代码就是最好的注解：
```
    dabnn/bconv.h
```

##### im2col
这个方法最早来自`Caffe`，原本是想先用`im2col`重排输入，用连续的输入提高 Cache 命中率，然后用研究了很多年的`gemm`方法一波带走。
```
    dabnn/bgemm.h
```

##### 注意事项
第一版`Binarize`和当前版本实现方式不同。
